<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>browser - eclipse.</title>
<link rel="icon" type="image/x-icon" href="assets/favicon/favicon.png" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Raleway:wght@300;400&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
<link rel="stylesheet" href="assets/css/styles.css" />
<style>
  
  body {
    overflow: hidden;
  }

  .app {
    height: 100vh;
  }

  main.content {
    padding: 0;
    overflow: hidden;
    background: transparent;
    display: flex;
    flex-direction: column;
  }

  header.top-bar {
    background: rgba(15, 14, 14, 0.95);
    backdrop-filter: blur(10px);
    padding: 15px 30px;
    border-bottom: 1px solid rgba(184, 134, 72, 0.2);
    gap: 20px;
    flex-shrink: 0;
  }

  header.top-bar h1.logo {
    font-size: 32px;
    cursor: pointer;
    margin: 0;
  }

  
  .browser-controls {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
    max-width: 800px;
  }

  .nav-buttons {
    display: flex;
    gap: 8px;
  }

  .nav-btn {
    background: #1e160b;
    border: 1px solid #b88640;
    color: #b88640;
    width: 36px;
    height: 36px;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    font-size: 14px;
  }

  .nav-btn:hover:not(:disabled) {
    background: #b88640;
    color: #1e160b;
  }

  .nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .address-bar {
    flex: 1;
    background: #1e160b;
    border: none;
    border-radius: 8px;
    padding: 10px 16px;
    color: #eee;
    font-family: 'Raleway', sans-serif;
    font-size: 14px;
    outline-offset: 2px;
    outline-color: #b88640;
  }

  .address-bar::placeholder {
    color: #b3a177cc;
  }

  .reload-btn {
    background: #b88640;
    border: none;
    color: #1e160b;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-family: 'Raleway', sans-serif;
    font-weight: 600;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .reload-btn:hover {
    background: #ddb86a;
  }

  
  header.top-bar .date-time {
    font-size: 16px;
  }

  header.top-bar .date-box {
    padding: 4px 12px;
    font-size: 14px;
    margin-bottom: 8px;
  }

  header.top-bar .date-time-line {
    gap: 8px;
  }

  header.top-bar .date-time-line span.time-word {
    font-size: 16px;
    letter-spacing: 2px;
  }

  
  #browserFrame {
    width: 100%;
    flex: 1;
    border: none;
    background: #000;
    display: block;
  }

  
  .frame-container {
    flex: 1;
    display: flex;
    overflow: hidden;
  }
</style>
</head>
<body>


<video id="videoBG" autoplay muted loop playsinline>
  <source src="assets/bg/background.mp4" type="video/mp4">
</video>

<div class="app">
  
  <nav class="sidebar" aria-label="Main sidebar navigation">
    <div class="icon" title="Home" onclick="window.location.href='index.html'"><i class="fa-solid fa-house"></i></div>
    <div class="icon active" title="Browser" onclick="window.location.href='frame.html'"><i class="fa-solid fa-globe"></i></div>
    <div class="icon" title="Emergency Cloaking" id="emergencyCloakBtn"><i class="fa-solid fa-moon"></i></div>
    <div class="icon" title="Games" onclick="window.location.href='games.html'"><i class="fa-solid fa-gamepad"></i></div>
    <div class="icon" title="Music" onclick="window.location.href='music.html'"><i class="fa-solid fa-headphones"></i></div>
    <div class="icon" title="Movies" onclick="window.location.href='movies.html'"><i class="fa-solid fa-film"></i></div>
    <div class="icon" title="Credits" onclick="window.location.href='credits.html'"><i class="fa-solid fa-book"></i></div>
    <div class="icon" title="Settings" onclick="window.location.href='settings.html'"><i class="fa-solid fa-cog"></i></div>
  </nav>

  
  <main class="content" role="main" aria-label="Main content area">
    
    
    <header class="top-bar">
      <h1 class="logo" aria-label="Eclipse branding" onclick="window.location.href='index.html'">
        eclipse<span class="dot">.</span>
      </h1>

      <div class="browser-controls">
        <div class="nav-buttons">
          <button class="nav-btn" id="backBtn" title="Back" disabled>
            <i class="fa-solid fa-arrow-left"></i>
          </button>
          <button class="nav-btn" id="forwardBtn" title="Forward" disabled>
            <i class="fa-solid fa-arrow-right"></i>
          </button>
        </div>
        
        <input type="text" class="address-bar" id="addressBar" placeholder="Enter URL or search..." />
        
        <button class="reload-btn" id="reloadBtn">
          <i class="fa-solid fa-rotate-right"></i> Reload
        </button>
      </div>

      
      <div class="date-time" aria-live="polite" aria-atomic="true" role="region" aria-label="Current date and time">
        <span class="date-box" id="dateBox" aria-label="Current date"></span>
        <div class="date-time-line">
          <span class="prefix">T</span>
          <span class="time-word" id="hourWord"></span>
        </div>
        <div class="date-time-line">
          <span class="prefix">F</span>
          <span class="time-word" id="minuteWord"></span>
        </div>
      </div>
    </header>

    
    <div class="frame-container">
      <iframe id="browserFrame"></iframe>
    </div>

  </main>
</div>


<footer class="status-bar" aria-label="Status bar">
  <span class="status-dot" aria-hidden="true"></span>
  <span>Connected</span>
  <span>â€¢</span>
  <span id="statusText">Ready</span>
</footer>

<script>
  
  const ones = ["ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"];
  const teens = ["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"];
  const tens = ["","","TWENTY","THIRTY","FORTY","FIFTY"];

  function numberToWords(num){
    if(num<10) return ones[num];
    if(num<20) return teens[num-10];
    let t = Math.floor(num/10);
    let o = num%10;
    return tens[t]+(o>0?" "+ones[o]:"");
  }

  function styledNumber(num){
    const word = numberToWords(num);
    const numStr = num.toString().padStart(2,"0");
    const firstLetter = word[0];
    const rest = word.substring(1);
    return `${firstLetter}<span class="highlight">${numStr}</span>${rest}`;
  }

  function updateDateTime(){
    const now = new Date();
    const day = now.getDate();
    const month = now.toLocaleString("en-US",{month:"short"});
    const hour = now.getHours();
    const minute = now.getMinutes();

    document.getElementById('dateBox').textContent = (day<10 ? '0'+day : day) + " " + month;
    document.getElementById('hourWord').innerHTML = styledNumber(hour);
    document.getElementById('minuteWord').innerHTML = styledNumber(minute);
  }

  updateDateTime();
  setInterval(updateDateTime, 60000);

  
  const params = new URLSearchParams(window.location.search);
  const query = params.get('q');
  const browserFrame = document.getElementById('browserFrame');
  const addressBar = document.getElementById('addressBar');
  const reloadBtn = document.getElementById('reloadBtn');
  const backBtn = document.getElementById('backBtn');
  const forwardBtn = document.getElementById('forwardBtn');
  const statusText = document.getElementById('statusText');

  let currentURL = '';

  function loadURL(url) {
    if (!url) return;
    
    currentURL = url;
    addressBar.value = url;
    
    
    const searcherURL = 'searcher.html?q=' + encodeURIComponent(url) + '&backend=ultraviolet&wisp=wss://wisp.mercurywork.shop/';
    browserFrame.src = searcherURL;
    
    statusText.textContent = 'Loading...';
  }

  
  if (query) {
    loadURL(query);
  }

  
  addressBar.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      const newURL = addressBar.value.trim();
      if (newURL) {
        
        const newFrameURL = 'frame.html?q=' + encodeURIComponent(newURL);
        window.location.href = newFrameURL;
      }
    }
  });

  
  reloadBtn.addEventListener('click', function() {
    if (currentURL) {
      loadURL(currentURL);
    } else {
      browserFrame.src = browserFrame.src;
    }
  });

  
  backBtn.addEventListener('click', function() {
    window.history.back();
  });

  
  forwardBtn.addEventListener('click', function() {
    window.history.forward();
  });

  
  browserFrame.addEventListener('load', function() {
    statusText.textContent = 'Ready';
  });

  
  if (window.history.length > 1) {
    backBtn.disabled = false;
  }

  
  const cloakPresets = [
    { title: "Google", favicon: "https://www.google.com/favicon.ico" },
    { title: "Google Docs", favicon: "https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico" },
    { title: "Google Classroom", favicon: "https://ssl.gstatic.com/classroom/favicon.png" },
    { title: "Canvas", favicon: "https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico" },
    { title: "Gmail", favicon: "https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" },
    { title: "Google Drive", favicon: "https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png" },
    { title: "Google Slides", favicon: "https://ssl.gstatic.com/docs/presentations/images/favicon5.ico" },
    { title: "Google Sheets", favicon: "https://ssl.gstatic.com/docs/spreadsheets/favicon3.ico" },
    { title: "YouTube", favicon: "https://www.youtube.com/s/desktop/6e6c14c5/img/favicon_32x32.png" },
    { title: "Wikipedia", favicon: "https://www.wikipedia.org/static/favicon/wikipedia.ico" }
  ];

  document.getElementById('emergencyCloakBtn').addEventListener('click', () => {
    const randomPreset = cloakPresets[Math.floor(Math.random() * cloakPresets.length)];
    document.title = randomPreset.title;
    document.querySelector('link[rel="icon"]').href = randomPreset.favicon;
    localStorage.setItem('cloakTitle', randomPreset.title);
    localStorage.setItem('cloakFavicon', randomPreset.favicon);
  });

  
  const savedTitle = localStorage.getItem('cloakTitle');
  const savedFavicon = localStorage.getItem('cloakFavicon');
  if(savedTitle) {
    document.title = savedTitle;
  }
  if(savedFavicon) {
    document.querySelector('link[rel="icon"]').href = savedFavicon;
  }
</script>
</body>
</html>